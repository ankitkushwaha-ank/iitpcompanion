<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{% static 'css/login.css' %}">
  <link rel="icon" href="{% static 'images/favicon.png' %}">
  <title>Change Password | IITP Companion</title>
</head>
<body>

  <!-- Top Navigation Bar -->
  <div class="navbar">
    <div class="navbar-logo">
      <a href="{% url 'home' %}">
        <img src="{% static 'images/iitpcomapanion1.png' %}" alt="IITP Logo">
      </a>
      <span class="logo-text">IITP Companion+</span>
    </div>
  </div>

  <!-- Change Password Card -->
  <div class="card">
    <h1>Change Password</h1>

    <div class="c-body">
      <form method="POST">
        {% csrf_token %}

        {% if messages %}
          <div class="message-container">
            {% for message in messages %}
              <div class="message {{ message.tags }}">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}

        <div class="email">
          <label for="old_password">Current Password</label>
          <input name="old_password" type="password" placeholder="Enter current password" required>
        </div>

        <div class="pass">
          <label for="new_password1">New Password</label>
          <input name="new_password1" type="password" placeholder="Enter new password" required>
        </div>

        <div class="pass">
          <label for="new_password2">Confirm New Password</label>
          <input name="new_password2" type="password" placeholder="Re-enter new password" required>
        </div>

        <div class="card-btn">
          <button type="submit">Update Password</button>
        </div>
      </form>

      <div class="sign-up">
        <p><a href="{% url 'profile' %}">‚Üê Back to Profile</a></p>
      </div>
    </div>
  </div>

</body>
</html>
<script>
  setTimeout(() => {
    const msg = document.querySelector('.message-container');
    if (msg) msg.style.display = 'none';
  }, 2500);
</script>
